package net.foxycorndog.shoot.actor;

import net.foxycorndog.jdoogl.GL;
import net.foxycorndog.jdoogl.camera.Camera;
import net.foxycorndog.jdoutil.VerticesBuffer;
import net.foxycorndog.shoot.map.Map;

public class Actor
{
	private boolean sprinting;
	private boolean jumping, movingUp;
	
	private float   width, height, depth;
	private float   centerX, centerY, centerZ;
	private float   offsetX, offsetY, offsetZ;
	private float   x, y, z;
	private float   startY;
	
	private Map     map;
	
	private VerticesBuffer verticesBuffer;
	
	public Actor(float width, float height, float depth, float centerX, float centerY, float centerZ, Map map)
	{
		this.width   = width;
		this.height  = height;
		this.depth   = depth;
		
		this.centerX = centerX;
		this.centerY = centerY;
		this.centerZ = centerZ;
		
		this.offsetX = centerX;
		this.offsetY = centerY;
		this.offsetZ = centerZ;
		
		this.map     = map;
		
		verticesBuffer = new VerticesBuffer(3 * 4 * 6);
		verticesBuffer.addData(GL.addCubeVertexArrayf(0, 0, 0, width, height, depth, 0, null));
	}
	
	public void jump()
	{
		if (!jumping)
		{
			jumping  = true;
			
			movingUp = true;
			
			startY   = y;
		}
	}
	
	public void update()
	{
		if (jumping)
		{
			if (camera.getY() < startY + 2 && movingUp)
			{
				if (!move(Camera.UP, 0.3f))
				{
					jumping = false;
				}
				
				if (camera.getY() >= startY + 2)
				{
					movingUp = false;
				}
			}
			else if (!movingUp && Math.abs(camera.getY() - startY) > TOLERANCE)
			{
				
			}
			else
			{
				jumping = false;
			}
		}
	}
}